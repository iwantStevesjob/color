
  <!DOCTYPE html>

<html>

<body>

  <h3>Local SDP (copy this to remote)</h3>

  <textarea id="local" style="width:100%;height:150px"></textarea>

<h3>Remote SDP (paste from other peer)</h3>

  <textarea id="remote" style="width:100%;height:150px"></textarea>

  <br/>

  <button onclick="connect()">Set Remote Description</button>



<script>

    const pc = new RTCPeerConnection();



pc.onicecandidate = (e) =&gt; {
  if (e.candidate === null) {
    document.getElementById('local').value = JSON.stringify(pc.localDescription);
  }
};

pc.ondatachannel = (event) =&gt; {
  const receiveChannel = event.channel;
  receiveChannel.onmessage = (e) =&gt; console.log("Received:", e.data);
  receiveChannel.onopen = () =&gt; receiveChannel.send("Hello from receiver!");
};

const channel = pc.createDataChannel("chat");
channel.onopen = () =&gt; channel.send("Hello from initiator!");
channel.onmessage = (e) =&gt; console.log("Received:", e.data);

pc.createOffer().then(offer =&gt; pc.setLocalDescription(offer));

window.connect = () =&gt; {
  const remoteSDP = JSON.parse(document.getElementById('remote').value);
  pc.setRemoteDescription(new RTCSessionDescription(remoteSDP));
};



</script>

</body>

</html>
